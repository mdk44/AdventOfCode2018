Before: [3, 1, 2, 1]
5 2 2 0
After:  [1, 1, 2, 1]